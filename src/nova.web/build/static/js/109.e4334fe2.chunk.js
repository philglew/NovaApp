"use strict";(self.webpackChunknova_web=self.webpackChunknova_web||[]).push([[109],{7109:(e,a,s)=>{s.r(a),s.d(a,{default:()=>p});var t=s(2555),n=s(5043),l=s(321),r=s(1648),i=s(1024),d=s(579);const o=e=>{let{item:a,depth:s,onCollapse:n}=e;const{attributes:l,listeners:o,setNodeRef:m,transform:c,transition:u,isDragging:x}=(0,r.gl)({id:a.id}),h={transform:i.Ks.Transform.toString(c),transition:u,marginLeft:"".concat(24*s,"px"),opacity:x?.5:1};return(0,d.jsx)("div",{ref:m,style:h,className:"flex items-center p-2 my-1 bg-white rounded-lg border ".concat(x?"border-blue-500 shadow-lg":"border-gray-200"),children:(0,d.jsxs)("div",(0,t.A)((0,t.A)((0,t.A)({},l),o),{},{className:"flex items-center flex-1 cursor-grab",children:[a.children.length>0&&(0,d.jsx)("button",{onClick:()=>null===n||void 0===n?void 0:n(a.id),className:"mr-2 text-gray-500 hover:text-gray-700",children:a.collapsed?(0,d.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,d.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})}):(0,d.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,d.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})}),(0,d.jsxs)("div",{className:"flex items-center flex-1",children:[(0,d.jsx)("img",{src:a.data.imageUrl||"https://ui-avatars.com/api/?name=".concat(a.data.firstName,"+").concat(a.data.lastName),alt:"".concat(a.data.firstName," ").concat(a.data.lastName),className:"w-8 h-8 rounded-full mr-3"}),(0,d.jsxs)("div",{children:[(0,d.jsxs)("div",{className:"font-medium",children:[a.data.firstName," ",a.data.lastName]}),(0,d.jsx)("div",{className:"text-sm text-gray-500",children:a.data.position})]})]}),(0,d.jsx)("div",{className:"text-sm text-gray-500 ml-4",children:a.data.department})]}))})},m=e=>{let{isOpen:a,onClose:s,title:t,children:n}=e;return a?(0,d.jsx)("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:(0,d.jsxs)("div",{className:"flex items-center justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0",children:[(0,d.jsx)("div",{className:"fixed inset-0 transition-opacity","aria-hidden":"true",children:(0,d.jsx)("div",{className:"absolute inset-0 bg-gray-500 opacity-75",onClick:s})}),(0,d.jsx)("span",{className:"hidden sm:inline-block sm:align-middle sm:h-screen","aria-hidden":"true",children:"\u200b"}),(0,d.jsx)("div",{className:"inline-block align-bottom bg-white rounded-lg text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-lg sm:w-full",children:(0,d.jsx)("div",{className:"bg-white px-4 pt-5 pb-4 sm:p-6 sm:pb-4",children:(0,d.jsx)("div",{className:"sm:flex sm:items-start",children:(0,d.jsxs)("div",{className:"mt-3 text-center sm:mt-0 sm:text-left w-full",children:[(0,d.jsx)("h3",{className:"text-lg leading-6 font-medium text-gray-900",children:t}),(0,d.jsx)("div",{className:"mt-4",children:n})]})})})})]})}):null},c=e=>{var a;let{onSubmit:s,onCancel:l,managers:r,departments:i}=e;const[o,m]=(0,n.useState)({firstName:"",lastName:"",email:"",position:"",department:i[0]||"",managerId:(null===(a=r[0])||void 0===a?void 0:a.id)||null}),c=e=>{const{name:a,value:s}=e.target;m((e=>(0,t.A)((0,t.A)({},e),{},{[a]:s})))};return(0,d.jsxs)("form",{onSubmit:e=>{e.preventDefault(),s(o)},className:"space-y-4",children:[(0,d.jsxs)("div",{children:[(0,d.jsx)("label",{htmlFor:"firstName",className:"block text-sm font-medium text-gray-700",children:"First Name"}),(0,d.jsx)("input",{type:"text",id:"firstName",name:"firstName",value:o.firstName,onChange:c,required:!0,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"})]}),(0,d.jsxs)("div",{children:[(0,d.jsx)("label",{htmlFor:"lastName",className:"block text-sm font-medium text-gray-700",children:"Last Name"}),(0,d.jsx)("input",{type:"text",id:"lastName",name:"lastName",value:o.lastName,onChange:c,required:!0,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"})]}),(0,d.jsxs)("div",{children:[(0,d.jsx)("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700",children:"Email"}),(0,d.jsx)("input",{type:"email",id:"email",name:"email",value:o.email,onChange:c,required:!0,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"})]}),(0,d.jsxs)("div",{children:[(0,d.jsx)("label",{htmlFor:"position",className:"block text-sm font-medium text-gray-700",children:"Position"}),(0,d.jsx)("input",{type:"text",id:"position",name:"position",value:o.position,onChange:c,required:!0,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"})]}),(0,d.jsxs)("div",{children:[(0,d.jsx)("label",{htmlFor:"department",className:"block text-sm font-medium text-gray-700",children:"Department"}),(0,d.jsx)("select",{id:"department",name:"department",value:o.department,onChange:c,required:!0,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",children:i.map((e=>(0,d.jsx)("option",{value:e,children:e},e)))})]}),(0,d.jsxs)("div",{children:[(0,d.jsx)("label",{htmlFor:"managerId",className:"block text-sm font-medium text-gray-700",children:"Manager"}),(0,d.jsxs)("select",{id:"managerId",name:"managerId",value:o.managerId||"",onChange:c,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",children:[(0,d.jsx)("option",{value:"",children:"No Manager"}),r.map((e=>(0,d.jsxs)("option",{value:e.id,children:[e.firstName," ",e.lastName," - ",e.position]},e.id)))]})]}),(0,d.jsxs)("div",{className:"mt-6 flex justify-end space-x-3",children:[(0,d.jsx)("button",{type:"button",onClick:l,className:"px-4 py-2 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:"Cancel"}),(0,d.jsx)("button",{type:"submit",className:"px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:"Add Employee"})]})]})},u=[{id:"1",firstName:"John",lastName:"Doe",email:"john.doe@example.com",position:"CEO",department:"Executive",managerId:null},{id:"2",firstName:"Jane",lastName:"Smith",email:"jane.smith@example.com",position:"CTO",department:"Engineering",managerId:"1"},{id:"3",firstName:"Bob",lastName:"Johnson",email:"bob.johnson@example.com",position:"Engineering Manager",department:"Engineering",managerId:"2"}],x=function(e){let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return e.filter((e=>e.managerId===a)).map((a=>({id:a.id,children:x(e,a.id),data:a,collapsed:!1})))},h=e=>e.reduce(((e,a)=>a.collapsed?[...e,a]:[...e,a,...h(a.children)]),[]),p=()=>{const[e,a]=(0,n.useState)(x(u)),[s,i]=(0,n.useState)(""),[p,g]=(0,n.useState)(!1),f=(0,l.FR)((0,l.MS)(l.AN),(0,l.MS)(l.uN)),b=Array.from(new Set(u.map((e=>e.department)))),N=u,j=h(e),v=s?j.filter((e=>"".concat(e.data.firstName," ").concat(e.data.lastName," ").concat(e.data.position).toLowerCase().includes(s.toLowerCase()))):j,y=s=>{const n=e=>e.map((e=>e.id===s?(0,t.A)((0,t.A)({},e),{},{collapsed:!e.collapsed}):(0,t.A)((0,t.A)({},e),{},{children:n(e.children)})));a(n(e))};return(0,d.jsxs)("div",{className:"space-y-4",children:[(0,d.jsxs)("div",{className:"flex justify-between items-center",children:[(0,d.jsx)("h1",{className:"text-2xl font-semibold text-gray-900",children:"Employee Hierarchy"}),(0,d.jsxs)("div",{className:"flex space-x-4",children:[(0,d.jsxs)("div",{className:"relative",children:[(0,d.jsx)("input",{type:"text",placeholder:"Search employees...",className:"w-64 px-4 py-2 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500",value:s,onChange:e=>i(e.target.value)}),(0,d.jsx)("svg",{className:"absolute right-3 top-2.5 h-5 w-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,d.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})]}),(0,d.jsx)("button",{onClick:()=>g(!0),className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:"Add Employee"})]})]}),(0,d.jsx)("div",{className:"bg-white shadow rounded-lg p-6",children:(0,d.jsx)(l.Mp,{sensors:f,collisionDetection:l.fp,onDragEnd:s=>{const{active:n,over:l}=s;if(!l||n.id===l.id)return;const r=j.find((e=>e.id===n.id)),i=j.find((e=>e.id===l.id));if(!r||!i)return;const d=e=>e.reduce(((e,a)=>[...e,a.data,...d(a.children)]),[]),o=d(e).map((e=>e.id===r.data.id?(0,t.A)((0,t.A)({},e),{},{managerId:i.data.id}):e));a(x(o))},children:(0,d.jsx)(r.gB,{items:v.map((e=>e.id)),strategy:r._G,children:v.map((e=>(0,d.jsx)(o,{item:e,depth:0,onCollapse:y},e.id)))})})}),(0,d.jsx)(m,{isOpen:p,onClose:()=>g(!1),title:"Add New Employee",children:(0,d.jsx)(c,{onSubmit:e=>{const s=(0,t.A)((0,t.A)({},e),{},{id:"emp-".concat(Date.now())});u.push(s),a(x(u)),g(!1)},onCancel:()=>g(!1),managers:N,departments:b})})]})}}}]);
//# sourceMappingURL=109.e4334fe2.chunk.js.map